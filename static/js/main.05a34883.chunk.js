(this["webpackJsonpsubj-notes"]=this["webpackJsonpsubj-notes"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n(13),o=n.n(c),s=n(14),i=n(26),u=n(20),l=n(27),d=n(28),p=n(31),b=n(29),h=n(11),j=n.n(h),f=n(40),O=n.n(f),v=function(e){var t=e.title,n=e.content,r=e.handleChange,c=e.handleSubmit;return Object(a.jsxs)("form",{className:O.a.form,onSubmit:c,children:[Object(a.jsx)("input",{type:"text",className:O.a.title,placeholder:"Title...",name:"title",value:t,onChange:r,required:!0}),Object(a.jsx)("textarea",{className:O.a.text,rows:"6",placeholder:"Text...",name:"content",value:n,onChange:r}),Object(a.jsx)("button",{className:O.a.btn,type:"submit",children:"Save"})]})},m="notes/ADD_SUCCESS",x="notes/DELETE_SUCCESS",k="notes/UPDATE",y="notes/FETCH_REQUEST",N="notes/FETCH_SUCCESS",S="notes/FETCH_ERROR",g=function(e){return{type:m,payload:e}},_=function(e){return{type:x,payload:e}},C=function(e){return{type:k,payload:e}},w=function(){return{type:y}},E=function(e){return{type:N,payload:e}},M=function(e){return{type:S,payload:e}},T=n(6),R=n.n(T),U=n(21);j.a.defaults.baseURL="https://cors-anywhere.herokuapp.com/http://test.subj.ua/api/v1/",j.a.defaults.headers.common.Authorization="Bearer p2l0ynbwahsnx2404tcxi4lwyurwrpoyrwwr";var A=function(){var e=Object(U.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("/notes");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(U.a)(R.a.mark((function e(t,n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.post("/notes",t,{cancelToken:n.token});case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(U.a)(R.a.mark((function e(t,n){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.delete("/notes/".concat(t),{cancelToken:n.token});case 2:return a=e.sent,e.abrupt("return",204===a.status);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(U.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("note: ",t),e.next=3,j.a.patch("/notes/".concat(t.id),{title:t.title||"",content:t.content||""});case 3:return n=e.sent,console.log("response: ",n),e.abrupt("return",n.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P="snackbar/OPEN_SNACKBAR_ERROR",B="snackbar/OPEN_SNACKBAR_SUCCESS",K="snackbar/CLOSE_SNACKBAR",F="snackbar/CLOSE_SNACKBAR",q={openSnackbarError:function(){return{type:P}},closeSnackbarError:function(){return{type:K}},openSnackbarSuccess:function(e){return{type:B,payload:e}},closeSnackbarSuccess:function(){return{type:F}}},H=n(18);var I=Object(H.combineReducers)({snackbarSource:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case B:return a;case F:return null;default:return e}},snackbarErrorIsOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case P:return!0;case K:return!1;default:return e}},snackbarSuccessIsOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case B:return!0;case F:return!1;default:return e}}}),W=function(e){return e.snackbar.snackbarErrorIsOpen},J=function(e){return e.snackbar.snackbarSuccessIsOpen},Y=function(e){return e.snackbar.snackbarSource},Q={fetchNotes:function(){return function(){var e=Object(U.a)(R.a.mark((function e(t){var n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(w()),e.prev=1,e.next=4,A();case 4:n=e.sent,t(E(n)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),t(M(e.t0)),t(q.openSnackbarError(e.t0));case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},addNote:function(e,t){return function(n){function a(){return(a=Object(U.a)(R.a.mark((function a(){var r;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,D(e,t);case 3:if(!(r=a.sent)){a.next=8;break}n(g(r)),a.next=9;break;case 8:throw new Error("error add item!");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),j.a.isCancel(a.t0)?(console.log("Request add note canceled.",a.t0.message),n(M(a.t0))):(n(M(a.t0)),n(q.openSnackbarError(a.t0)));case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))).apply(this,arguments)}n(w()),n(q.openSnackbarSuccess(t)),setTimeout((function(){return a.apply(this,arguments)}),3e3)}},deleteNote:function(e,t){return function(n){function a(){return(a=Object(U.a)(R.a.mark((function a(){return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L(e,t);case 3:if(!a.sent){a.next=8;break}n(_(e)),a.next=9;break;case 8:throw new Error("error delete item!");case 9:a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),j.a.isCancel(a.t0)?(console.log("Request delete note canceled.",a.t0.message),n(M(a.t0))):(n(M(a.t0)),n(q.openSnackbarError(a.t0)));case 14:case"end":return a.stop()}}),a,null,[[0,11]])})))).apply(this,arguments)}n(w()),n(q.openSnackbarSuccess(t)),setTimeout((function(){return a.apply(this,arguments)}),3e3)}},updateNote:function(e){return function(){var t=Object(U.a)(R.a.mark((function t(n){var a;return R.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(w()),t.prev=1,t.next=4,z(e);case 4:if(a=t.sent,console.log("data: ",a),!a){t.next=10;break}n(C(e)),t.next=11;break;case 10:throw new Error("error update item!");case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(1),n(M(t.t0)),n(q.openSnackbarError(t.t0));case 17:case"end":return t.stop()}}),t,null,[[1,13]])})));return function(e){return t.apply(this,arguments)}}()}},X=function(e){return e.notes.items},V=function(e){return e.notes.error&&e.notes.error.message},Z=function(e){return e.notes.loading},G={title:"",content:""},$=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state=Object(u.a)({},G),e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(i.a)({},a,r))},e.handleSubmit=function(t){var n=e.props.addNote;t.preventDefault();var a=j.a.CancelToken.source();n(e.state,a),e.setState(Object(u.a)({},G))},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.content;return Object(a.jsx)(v,Object(u.a)(Object(u.a)({},this.props),{},{title:t,content:n,handleChange:this.handleChange,handleSubmit:this.handleSubmit}))}}]),n}(r.Component),ee={addNote:Q.addNote},te=Object(s.b)(null,ee)($),ne=n(25),ae=n.n(ne),re=function(e){var t=e.notes,n=void 0===t?[]:t,r=e.deleteNote,c=e.openModal,o=e.source;return Object(a.jsx)("div",{className:ae.a.container,children:n.map((function(e){return Object(a.jsxs)("div",{className:ae.a.note,children:[Object(a.jsx)("p",{className:ae.a.noteTitle,children:e.title}),Object(a.jsx)("p",{children:e.content}),Object(a.jsx)("hr",{}),Object(a.jsxs)("div",{className:ae.a.btns,children:[Object(a.jsx)("button",{className:ae.a.delete,type:"button",onClick:function(){return c(e)},children:"Update"}),Object(a.jsx)("button",{className:ae.a.delete,type:"button",onClick:function(){return r(e.id,o)},children:"Delete"})]})]},e.id)}))})},ce="modal/OPEN_MODAL",oe="modal/CLOSE_MODAL",se={openModal:function(e){return{type:ce,payload:e}},closeModal:function(){return{type:oe}}};var ie,ue=Object(H.combineReducers)({modalNote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case ce:return a;case oe:return null;default:return e}},isOpenModal:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case ce:return!0;case oe:return!1;default:return e}}}),le=function(e){return e.modal.isOpenModal},de=function(e){return e.modal.modalNote},pe=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){(0,this.props.fetchNotes)(),ie=j.a.CancelToken.source()}},{key:"componentDidUpdate",value:function(){ie=j.a.CancelToken.source()}},{key:"render",value:function(){return Object(a.jsx)(re,Object(u.a)({},this.props))}}]),n}(r.Component),be={fetchNotes:Q.fetchNotes,deleteNote:Q.deleteNote,updateNote:Q.updateNote,openModal:se.openModal},he=Object(s.b)((function(e){return{notes:X(e),source:ie}}),be)(pe),je=n(22),fe=n.n(je),Oe={id:null,title:"",content:""},ve=function(e){Object(p.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).state=Object(u.a)({},Oe),e.backdropRef=Object(r.createRef)(),e.handleChange=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(i.a)({},a,r))},e.handleSubmit=function(t){t.preventDefault();var n=e.props,a=n.updateNote,r=n.closeModal;a(e.state),r(),e.setState(Object(u.a)({},Oe))},e.handleKeyPress=function(t){var n=e.props.closeModal;"Escape"===t.code&&n()},e.handleBackdropClick=function(t){var n=e.props.closeModal,a=e.backdropRef.current;a&&t.target!==a||n()},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.isOpenModal,n=e.modalNote,a=this.state.id;t&&n.id!==a&&this.setState(Object(u.a)({},n))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.content,r=this.props,c=r.isOpenModal,o=r.closeModal;return Object(a.jsx)(a.Fragment,{children:c&&Object(a.jsx)("div",{className:fe.a.backdrop,ref:this.backdropRef,onClick:this.handleBackdropClick,children:Object(a.jsx)("div",{className:fe.a.modal,children:Object(a.jsxs)("form",{className:fe.a.form,onSubmit:this.handleSubmit,children:[Object(a.jsx)("h2",{className:fe.a.mainTitle,children:"Update Note"}),Object(a.jsx)("input",{className:fe.a.title,name:"title",placeholder:"Title",required:!0,value:t,onChange:this.handleChange}),Object(a.jsx)("textarea",{className:fe.a.text,name:"content",placeholder:"Text",rows:"3",value:n,onChange:this.handleChange}),Object(a.jsxs)("div",{className:fe.a.btns,children:[Object(a.jsx)("button",{className:fe.a.btn,type:"button",onClick:o,children:"Cansel"}),Object(a.jsx)("button",{className:fe.a.btn,type:"submit",children:"Update"})]})]})})})})}}]),n}(r.Component),me={closeModal:se.closeModal,updateNote:Q.updateNote},xe=Object(s.b)((function(e){return{isOpenModal:le(e),modalNote:de(e)}}),me)(ve),ke=n(126),ye=n(124),Ne=n(43),Se=n.n(Ne),ge={handleClose:q.closeSnackbarError,handleClick:q.openSnackbarError},_e=Object(s.b)((function(e){return{snackbarMessage:V(e),isOpenSnackbar:W(e)}}),ge)((function(e){var t=e.snackbarMessage,n=e.handleClose,r=e.isOpenSnackbar;return Object(a.jsx)(ke.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:r,autoHideDuration:2e3,onClose:n,ContentProps:{"aria-describedby":"message-id"},message:Object(a.jsx)("span",{id:"message-id",style:{color:"red"},children:t}),action:[Object(a.jsx)(ye.a,{"aria-label":"Close",color:"inherit",onClick:n,children:Object(a.jsx)(Se.a,{})},"close")]})})),Ce=n(125),we={handleClose:q.closeSnackbarSuccess,handleClick:q.openSnackbarSuccess},Ee=Object(s.b)((function(e){return{isOpenSnackbar:J(e),source:Y(e)}}),we)((function(e){var t=e.handleClose,n=e.isOpenSnackbar,r=e.source;return Object(a.jsx)(ke.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},open:n,autoHideDuration:2e3,onClose:t,ContentProps:{"aria-describedby":"message-id"},message:Object(a.jsx)("span",{id:"message-id",style:{color:"green"},children:"You can cancel the operation"}),action:[Object(a.jsx)(Ce.a,{color:"primary",size:"medium",onClick:function(){return function(e,t){e.cancel("Operation canceled by the user."),t()}(r,t)},children:"\u0421ancel operation"},"undo"),Object(a.jsx)(ye.a,{"aria-label":"Close",color:"inherit",onClick:t,children:Object(a.jsx)(Se.a,{})},"close")]})})),Me=Object(s.b)((function(e){return{isLoading:Z(e)}}))((function(e){var t=e.isLoading;return Object(a.jsx)(a.Fragment,{children:t&&Object(a.jsx)("div",{className:"lds-css ng-scope",children:Object(a.jsxs)("div",{className:"lds-spinner",children:[Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{}),Object(a.jsx)("div",{})]})})})}));var Te=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(te,{}),Object(a.jsx)(he,{}),Object(a.jsx)(xe,{}),Object(a.jsx)(_e,{}),Object(a.jsx)(Ee,{}),Object(a.jsx)(Me,{})]})},Re=n(58),Ue=n(59),Ae=n(60);var De=Object(H.combineReducers)({items:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case N:return a.notes;case m:return[a].concat(Object(Ae.a)(e));case x:return e.filter((function(e){return e.id!==a}));case k:return e.map((function(e){return e.id===a.id?a:e}));default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type;switch(n){case y:return!0;case N:case S:case m:case k:case x:return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case y:return null;case S:return a;default:return e}}}),Le=Object(H.combineReducers)({modal:ue,notes:De,snackbar:I}),ze=Object(H.applyMiddleware)(Ue.a),Pe=Object(Re.composeWithDevTools)(ze),Be=Object(H.createStore)(Le,Pe);n(104);o.a.render(Object(a.jsx)(s.a,{store:Be,children:Object(a.jsx)(Te,{})}),document.querySelector("#root"))},22:function(e,t,n){e.exports={backdrop:"UpdateNoteModal_backdrop__RW6h3",modal:"UpdateNoteModal_modal__1g7PY",form:"UpdateNoteModal_form__3wrNz",mainTitle:"UpdateNoteModal_mainTitle__1EkQI",title:"UpdateNoteModal_title__1zy11",text:"UpdateNoteModal_text__1VH7d",btns:"UpdateNoteModal_btns__24RdK",btn:"UpdateNoteModal_btn__3ifZm"}},25:function(e,t,n){e.exports={container:"NoteList_container__1a07X",note:"NoteList_note__1NzUu",noteTitle:"NoteList_noteTitle__Aa4-v",btns:"NoteList_btns__qOvY4"}},40:function(e,t,n){e.exports={form:"NoteEditor_form__32zFc",title:"NoteEditor_title__JShXz",text:"NoteEditor_text__1TAcr",btn:"NoteEditor_btn__3sWBz"}}},[[105,1,2]]]);
//# sourceMappingURL=main.05a34883.chunk.js.map